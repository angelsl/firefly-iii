import{a as x,P as B}from"./dates-CQC-EuuA.js";import{s as D,f as M}from"./vendor-BN1MWPzx.js";function G(y,c){const l=D.get("lastActivity");let i={lastActivity:l,key:y};for(const p in c)if(c.hasOwnProperty(p)){if(c[p]===null||c[p]===void 0){i[p]="";continue}if(c[p]instanceof Date){i[p]=M(c[p],"yMMdd");continue}i[p]=c[p]}return"dcx_"+I(JSON.stringify(i)).substring(0,12)+l}function I(y){var c="0123456789abcdef";function l(u){var s,d="";for(s=0;s<=3;s++)d+=c.charAt(u>>s*8+4&15)+c.charAt(u>>s*8&15);return d}function i(u,s){var d=(u&65535)+(s&65535),f=(u>>16)+(s>>16)+(d>>16);return f<<16|d&65535}function p(u,s){return u<<s|u>>>32-s}function A(u,s,d,f,F,P){return i(p(i(i(s,u),i(f,P)),F),d)}function h(u,s,d,f,F,P,m){return A(s&d|~s&f,u,s,F,P,m)}function g(u,s,d,f,F,P,m){return A(s&f|d&~f,u,s,F,P,m)}function v(u,s,d,f,F,P,m){return A(s^d^f,u,s,F,P,m)}function w(u,s,d,f,F,P,m){return A(d^(s|~f),u,s,F,P,m)}function V(u){var s,d=(u.length+8>>6)+1,f=new Array(d*16);for(s=0;s<d*16;s++)f[s]=0;for(s=0;s<u.length;s++)f[s>>2]|=u.charCodeAt(s)<<s%4*8;return f[s>>2]|=128<<s%4*8,f[d*16-2]=u.length*8,f}var o,a=V(""+y),t=1732584193,e=-271733879,n=-1732584194,r=271733878,k,C,O,b;for(o=0;o<a.length;o+=16)k=t,C=e,O=n,b=r,t=h(t,e,n,r,a[o+0],7,-680876936),r=h(r,t,e,n,a[o+1],12,-389564586),n=h(n,r,t,e,a[o+2],17,606105819),e=h(e,n,r,t,a[o+3],22,-1044525330),t=h(t,e,n,r,a[o+4],7,-176418897),r=h(r,t,e,n,a[o+5],12,1200080426),n=h(n,r,t,e,a[o+6],17,-1473231341),e=h(e,n,r,t,a[o+7],22,-45705983),t=h(t,e,n,r,a[o+8],7,1770035416),r=h(r,t,e,n,a[o+9],12,-1958414417),n=h(n,r,t,e,a[o+10],17,-42063),e=h(e,n,r,t,a[o+11],22,-1990404162),t=h(t,e,n,r,a[o+12],7,1804603682),r=h(r,t,e,n,a[o+13],12,-40341101),n=h(n,r,t,e,a[o+14],17,-1502002290),e=h(e,n,r,t,a[o+15],22,1236535329),t=g(t,e,n,r,a[o+1],5,-165796510),r=g(r,t,e,n,a[o+6],9,-1069501632),n=g(n,r,t,e,a[o+11],14,643717713),e=g(e,n,r,t,a[o+0],20,-373897302),t=g(t,e,n,r,a[o+5],5,-701558691),r=g(r,t,e,n,a[o+10],9,38016083),n=g(n,r,t,e,a[o+15],14,-660478335),e=g(e,n,r,t,a[o+4],20,-405537848),t=g(t,e,n,r,a[o+9],5,568446438),r=g(r,t,e,n,a[o+14],9,-1019803690),n=g(n,r,t,e,a[o+3],14,-187363961),e=g(e,n,r,t,a[o+8],20,1163531501),t=g(t,e,n,r,a[o+13],5,-1444681467),r=g(r,t,e,n,a[o+2],9,-51403784),n=g(n,r,t,e,a[o+7],14,1735328473),e=g(e,n,r,t,a[o+12],20,-1926607734),t=v(t,e,n,r,a[o+5],4,-378558),r=v(r,t,e,n,a[o+8],11,-2022574463),n=v(n,r,t,e,a[o+11],16,1839030562),e=v(e,n,r,t,a[o+14],23,-35309556),t=v(t,e,n,r,a[o+1],4,-1530992060),r=v(r,t,e,n,a[o+4],11,1272893353),n=v(n,r,t,e,a[o+7],16,-155497632),e=v(e,n,r,t,a[o+10],23,-1094730640),t=v(t,e,n,r,a[o+13],4,681279174),r=v(r,t,e,n,a[o+0],11,-358537222),n=v(n,r,t,e,a[o+3],16,-722521979),e=v(e,n,r,t,a[o+6],23,76029189),t=v(t,e,n,r,a[o+9],4,-640364487),r=v(r,t,e,n,a[o+12],11,-421815835),n=v(n,r,t,e,a[o+15],16,530742520),e=v(e,n,r,t,a[o+2],23,-995338651),t=w(t,e,n,r,a[o+0],6,-198630844),r=w(r,t,e,n,a[o+7],10,1126891415),n=w(n,r,t,e,a[o+14],15,-1416354905),e=w(e,n,r,t,a[o+5],21,-57434055),t=w(t,e,n,r,a[o+12],6,1700485571),r=w(r,t,e,n,a[o+3],10,-1894986606),n=w(n,r,t,e,a[o+10],15,-1051523),e=w(e,n,r,t,a[o+1],21,-2054922799),t=w(t,e,n,r,a[o+8],6,1873313359),r=w(r,t,e,n,a[o+15],10,-30611744),n=w(n,r,t,e,a[o+6],15,-1560198380),e=w(e,n,r,t,a[o+13],21,1309151649),t=w(t,e,n,r,a[o+4],6,-145523070),r=w(r,t,e,n,a[o+11],10,-1120210379),n=w(n,r,t,e,a[o+2],15,718787259),e=w(e,n,r,t,a[o+9],21,-343485551),t=i(t,k),e=i(e,C),n=i(n,O),r=i(r,b);return l(t)+l(e)+l(n)+l(r)}class K{put(c,l){let i="/api/v1/preferences/"+c;return x.put(i,{data:l})}}function q(y,c=null){window.store.set(y,c),new K().put(y,c).then(i=>{}).catch(()=>{new B().post(y,c).then(p=>{})})}class J{show(c,l){return x.get("/api/v2/accounts/"+c,{params:l})}index(c){const l=G("/api/v2/accounts",c),i=window.store.get("cacheValid");let p=window.store.get(l);return i&&typeof p<"u"?(console.log("Cache is valid, return cache."),Promise.resolve(p)):x.get("/api/v2/accounts",{params:c}).then(A=>(console.log("Cache is invalid, return fresh."),window.store.set(l,A.data),Promise.resolve({data:A.data.data,meta:A.data.meta})))}transactions(c,l){const i={page:l.page??1};return l.hasOwnProperty("start")&&(i.start=M(l.start,"y-MM-dd")),l.hasOwnProperty("end")&&(i.end=M(l.end,"y-MM-dd")),x.get("/api/v2/accounts/"+c+"/transactions",{params:i})}}function L(){console.log("showInternalsButton"),document.querySelector(".toggle-page-internals").classList.remove("d-none")}export{J as G,L as a,G as g,q as s};
